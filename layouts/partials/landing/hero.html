{{ $sectionTitle := .Scratch.Get "sectionTitle" }}
{{ with (index .Site.Data.landing $sectionTitle) }}
{{ if eq .enable true }}
<!-- Hero Start -->
{{ with .backgroundImage }}
    {{ $path := .path | default "images" }}
    {{ $filename := .filename }}
    {{ $pathDesktop := printf "%s/%s" $path $filename.desktop }}
    {{ $pathMobile := printf "%s/%s" $path $filename.mobile }}
        <style>
            .hero {
                {{ with $filename.desktop }}
                    {{ with resources.Get $pathDesktop }}
                        @media (min-width: 768px) {
                            background-image: url("{{ .RelPermalink }}");
                        }
                    {{ end }}
                {{ end }}
                {{ with $filename.mobile }}
                    {{ with resources.Get $pathMobile }}
                        background-image: url("{{ .RelPermalink }}");
                    {{ end }}
                {{ end }}
            }
        </style>
{{ end }}
<section id="{{ $sectionTitle }}" class="overflow-hidden hero">
    <div class="container">
        <div class="row mt-5 align-items-center">

            <div class="col-lg-6 col-md-6">
                <div class="title-heading">
                    <a href="https://github.com/gtsteffaniak/filebrowser/releases"> <img src="https://img.shields.io/github/v/release/gtsteffaniak/filebrowser.svg?include_prereleases" class="rounded-pill" alt="FileBrowser Quantum Version" ></a>
                    <h4 class="heading hero-title mt-0 mb-3">
                        {{ with .titleLogo }}
                            {{ if .icon }}
                                <!-- SVG Logo from static folder -->
                                <span style="display: inline-flex; align-items: center; height: {{ .iconSize | default "70px" }}; line-height: {{ .iconSize | default "70px" }};">
                                    <img src="{{ "logo.svg" | absURL }}" alt="Logo" style="height: {{ .iconSize | default "70px" }};">
                                </span>
                            {{ else if .filename }}
                                <!-- Custom Image Logo -->
                                {{ $path := .path | default "images" }}
                                {{ $filename := .filename }}
                                {{ $height := .height | default "70px" }}
                                {{ $alt := .alt | default "logo image" }}
                                {{ $path := printf "%s/%s" $path $filename }}
                                <span>
                                    {{ with $image := resources.Get $path }}
                                        {{ if eq .MediaType.SubType "svg" }}
                                            {{ .Content | safeHTML }}
                                        {{ else }}
                                            {{ with .Resize (printf "%dx%d webp q85 drawing Lanczos" .Width .Height) }}
                                                <img src="{{ .RelPermalink }}" alt="{{ $alt }}" height="{{ $height }}">
                                            {{ end }}
                                        {{ end }}
                                    {{ end }}
                                </span>
                            {{ end }}
                        {{ end }}
                        {{ with .title }}{{ . }}{{ end }}
                    </h4>
                    {{ with .subtitle }}
                    <p class="para-desc text-muted mb-0">{{ . | markdownify }}</p>
                    {{ end }}

                    <div class="mt-3">
                        {{ with .ctaButton }}
                            {{ $color := .color | default "primary" }}
                            {{ $outline := .outline | default false }}
                            <a href="{{ relLangURL .url }}" class="btn btn-lg {{ if $outline }}btn-outline-{{ else }}btn-{{ end }}{{ $color }} me-2 mt-2">
                                {{ with .icon }}
                                    {{ $svgIcons := slice "github" "twitter" "instagram" "rss" "gitlab" "bitbucket" }}
                                    {{ if in $svgIcons . }}
                                        {{ $iconPath := printf "images/social/%s.svg" . }}
                                        {{ with resources.Get $iconPath }}
                                            <span class="align-middle me-1" style="display: inline-block; vertical-align: middle;">{{ .Content | safeHTML }}</span>
                                        {{ end }}
                                    {{ else }}
                                        <span class="material-icons align-middle">{{ . }}</span>
                                    {{ end }}
                                {{ end }}
                                {{ with .btnText }}
                                    {{ . }}
                                {{ end }}
                            </a>
                        {{ end }}
                        {{ with .cta2Button }}
                            {{ $color := .color | default "primary" }}
                            {{ $outline := .outline | default false }}
                        <a href="{{ relLangURL .url }}" class="btn btn-lg {{ if $outline }}btn-outline-{{ else }}btn-{{ end }}{{ $color }} mt-2">
                            {{ with .icon }}
                                {{ $svgIcons := slice "github" "twitter" "instagram" "rss" "gitlab" "bitbucket" }}
                                {{ if in $svgIcons . }}
                                    {{ $iconPath := printf "images/social/%s.svg" . }}
                                    {{ with resources.Get $iconPath }}
                                        <span class="align-middle me-1" style="display: inline-block; vertical-align: middle;">{{ .Content | safeHTML }}</span>
                                    {{ end }}
                                {{ else }}
                                    <span class="material-icons align-middle">{{ . }}</span>
                                {{ end }}
                            {{ end }}
                            {{ with .btnText }}
                                {{ . }}
                            {{ end }}
                        </a>
                        {{ end }}
                    </div>

                    {{ with .info }}
                    <p class="text-muted mb-0 mt-3">{{ . | markdownify }}</p>
                    {{ end }}
                </div>
            </div>

            <div class="col-lg-6 col-md-6 mt-4 mt-sm-0" style="padding-top: 5em; padding-bottom: 5em;">
                {{ with .image }}
                    {{ $alt := .alt | default "hero image" }}
                    {{ $boxShadow := .boxShadow | default false }}
                    {{ $rounded := .rounded | default false }}

                    {{ if .url }}
                        <!-- External URL image -->
                        <div class="ms-lg-4">
                            <div class="classic-hero-image">
                                <img src="{{ .url }}" class="mx-auto d-block {{ if $boxShadow }}hero-image-shadow{{ end }} {{ if $rounded }}rounded-4{{ end }}" alt="{{ $alt }}">
                            </div>
                        </div>
                    {{ else }}
                        <!-- Local file image (original logic) -->
                        {{ $path := .path | default "images" }}
                        {{ $filename := .filename }}
                        {{ $path := printf "%s/%s" $path $filename }}
                        {{ with $filename }}
                            <div class="ms-lg-4">
                                <div class="classic-hero-image">
                                    {{ with $image := resources.Get $path }}
                                        {{ if eq .MediaType.SubType "svg" }}
                                            {{ .Content | safeHTML }}
                                        {{ else }}
                                            {{ with .Resize (printf "%dx%d webp q85 drawing Lanczos" .Width .Height) }}
                                                <img src="{{ .RelPermalink }}" class="mx-auto d-block {{ if $boxShadow }}hero-image-shadow{{ end }} {{ if $rounded }}rounded-4{{ end }}" alt="{{ $alt }}">
                                            {{ end }}
                                        {{ end }}
                                    {{ end }}
                                </div>
                            </div>
                        {{ end }}
                    {{ end }}
                {{ end }}
            </div><!--end col-->

        </div><!--end row-->
    </div> <!--end container-->
</section><!--end section-->
<!-- Hero End -->
{{ end }}
{{ end }}